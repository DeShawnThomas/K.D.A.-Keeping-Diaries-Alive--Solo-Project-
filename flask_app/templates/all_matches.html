<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="static/css/styles.css">
    <title>K.D.A. (VALORANT)</title>
</head>
<body class="bg-dark">
    <div class="container-fluid">
        <div class="row justify-content-end mt-3">
            <div class="col-12 col-md-6 text-md-end">
                <a href="/dashboard" class="btn btn-danger btn-lg">Return to Dashboard</a>
            </div>
        </div>
        <div class="row justify-content-center mt-3">
            <div class="card col-12 bg-danger text-white p-3 border-secondary border-4">
                <h1>All Match Statistics</h1>
                <div class="p-5 mb-2 justify-content-center card col-12 bg-light text-white text-center p-3 border-dark border-4">
                    <table class="table table-bordered table-striped table-hover table-sm fs-4 text-center">
                        <thead class="thead-dark">
                            <tr>
                                <th>Match Date</th>
                                <th>Rank</th>
                                <th>Agent</th>
                                <th>Map</th>
                                <th>Team MVP?</th>
                                <th>Match MVP?</th>
                                <th>Win/Loss</th>
                                <th>My Team Score</th>
                                <th>Enemy Score</th>
                                <th>Kills</th>
                                <th>Deaths</th>
                                <th>Assists</th>
                                <th>HS%</th>
                                <th>ADR</th>
                                <th>ACS</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for match in matches %}
                                <tr>
                                    <td>{{match.match_date.strftime('%B %dth, %Y')}}</td>
                                    <td><img src="{{ url_for('static', filename='img/' + rank_icons.get(match.start_rank, 'default.jpg')) }}" style="width: 50px; height: 50px;"></td>
                                    <td><img src="{{ url_for('static', filename='img/' + agent_images.get(match.agent, 'default.jpg')) }}" style="width: 50px; height: 50px;"></td>
                                    <td>{{match.map}}</td>
                                    <td>
                                        {% if match.team_mvp == 1 %}
                                            Yes
                                        {% else %}
                                            No
                                        {% endif %}
                                    </td>
                                    <td>
                                        {% if match.match_mvp == 1 %}
                                            Yes
                                        {% else %}
                                            No
                                        {% endif %}
                                    </td>
                                    <td>
                                        {% if match.win_loss == 1 %}
                                            Win
                                        {% elif match.win_loss == 0 %}
                                            Loss
                                        {% elif match.win_loss == 2%}
                                            Tie
                                        {% endif %}
                                    </td>
                                    <td>{{match.my_score}}</td>
                                    <td>{{match.opp_score}}</td>
                                    <td>{{match.kills}}</td>
                                    <td>{{match.deaths}}</td>
                                    <td>{{match.assists}}</td>
                                    <td>{{match.headshot_percentage}}</td>
                                    <td>{{match.adr}}</td>
                                    <td>{{match.acs}}</td>
                                    <td>                                
                                        <a href="/edit/{{ match.id }}" class="btn btn-secondary btn-sm">Edit</a>
                                        <a href="/delete/{{ match.id }}" class="btn btn-danger btn-sm">Delete</a>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>